<!DOCTYPE html>
<html>
<head>
  <title>Admin - Upload Audio Link</title>
</head>
<body>

<h2>Weka Audio Link</h2>

<input type="text" id="title" placeholder="Jina la Audio"><br><br>
<input type="text" id="link" placeholder="Weka Link ya Audio (mp3)"><br><br>

<button onclick="saveAudio()">Save Audio</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBrgOTZN04zoRlpDzOgHFlK_5HvJW6pxD0",
  authDomain: "masjidshabaab.firebaseapp.com",
  databaseURL: "https://masjidshabaab-default-rtdb.firebaseio.com/",
  projectId: "masjidshabaab",
  storageBucket: "masjidshabaab.firebasestorage.app",
  messagingSenderId: "1069424481338",
  appId: "1:1069424481338:web:4eebe45e31ec3c24aad103"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.saveAudio = function() {
  const title = document.getElementById("title").value;
  const link = document.getElementById("link").value;

  if(title === "" || link === "") {
    alert("Jaza sehemu zote");
    return;
  }

  push(ref(db, "audios"), {
    title: title,
    url: link
  });

  alert("Audio imehifadhiwa!");
  document.getElementById("title").value = "";
  document.getElementById("link").value = "";
};
</script>

</body>
</html>
